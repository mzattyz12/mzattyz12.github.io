<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Panel de notificaciones</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Pega aquí tu CSS completo (el que me pasaste) -->
</head>
<body>
  <!-- Pega aquí todo tu HTML de UI -->

<script>
  window.showToast = (type, title, text) => alert(title + ": " + text);

  window.renderLVP = (devices) => {
    const list = document.getElementById("deviceList");
    const count = document.getElementById("deviceCount");
    list.innerHTML = "";
    devices.forEach(d => {
      const div = document.createElement("div");
      div.className = "list-item";
      div.innerHTML = `<span>${d.indicativo}</span>`;
      list.appendChild(div);
    });
    count.textContent = devices.length + " dispositivos registrados";
  };

  document.getElementById("requestPermission").onclick = () => {
    const indicativo = document.getElementById("indicativoInput").value || "dispositivo-" + Date.now();
    window.parent.requestPermissionAndRegister(indicativo);
  };

  document.getElementById("sendButton").onclick = () => {
    const indicativo = document.getElementById("indicativoInput").value;
    const mensaje = document.getElementById("mensajeInput").value;
    window.parent.sendPushToIndicativo(indicativo, mensaje);
  };

  window.refreshLVP = () => window.parent.refreshLVP();
</script>
</body>
</html>
